<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>나랑 zeze랑</title>
	<meta name="description" content="제제랑 칭구가 될 수 있을까?">
	<meta property="og:type" content="website"> 
	<meta property="og:title" content="me & zeze">
	<meta property="og:description" content="제제랑 칭구가 될 수 있을까?">
	<meta property="og:image" content="https://zeze-mbti.netlify.app/img/hbd_zeze.jpg">
	<meta property="og:url" content="https://zeze-mbti.netlify.app">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
	<link rel="stylesheet" href="style.css">
</head>
<body class="container">
	<article class="start">
		<h1 class="mt-5 text-center">mbti 테스트</h1>
		<button type="button" class="btn btn-primary mt-5" onclick="start();">테스트 시작하기</button>
	</article>
	<article class="question">
		<div class="progress mt-5">
			<div class="progress-bar" role="progressbar" style="width: calc(100/12*1%)"></div>
		</div>
		<h2 id="title" class="text-center mt-5">문제</h2>
		<input id="type" type="hidden" value="EI">
		<button id="A" type="button" class="btn btn-primary mt-5">1</button>
		<button id="B" type="button" class="btn btn-primary mt-5">2</button> 
	</article>
	<article class="result">
		<img id="img" class="rounded-circle mt-5" src="hbd_zeze.jpg" alt="friend">
		<h2 id="friend" class="text-center mt-5">명칭</h2>
		<h3 id="explain" class="text-center mt-5">설명</h3>
        <div class="share addthis_inline_share_toolbox"></div>
	</article>
	<article class="kakao_ad mt-5">
		<ins class="kakao_ad_area" style="display:none;" 
		data-ad-unit    = "DAN-sO9Ggy328jn2EXDO" 
		data-ad-width   = "320" 
		data-ad-height  = "100"></ins> 
	</article>
	<script type="text/javascript" src="//t1.daumcdn.net/kas/static/ba.min.js" async></script>
	<input type="hidden" id="EI" value="0">
	<input type="hidden" id="SN" value="0">
	<input type="hidden" id="TF" value="0">
	<input type="hidden" id="JP" value="0">
	<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
	<script>
		var num = 1;
		var q = {
			1: {"title": "문제 1번", "type": "EI", "A": "E", "B": "I"},
			2: {"title": "문제 2번", "type": "EI", "A": "E", "B": "I"},
			3: {"title": "문제 3번", "type": "EI", "A": "E", "B": "I"},
			4: {"title": "문제 4번", "type": "SN", "A": "S", "B": "N"},
			5: {"title": "문제 5번", "type": "SN", "A": "S", "B": "N"},
			6: {"title": "문제 6번", "type": "SN", "A": "S", "B": "N"},
			7: {"title": "문제 7번", "type": "TF", "A": "T", "B": "F"},
			8: {"title": "문제 8번", "type": "TF", "A": "T", "B": "F"},
			9: {"title": "문제 9번", "type": "TF", "A": "T", "B": "F"},
			10: {"title": "문제 10번", "type": "JP", "A": "J", "B": "P"},
			11: {"title": "문제 11번", "type": "JP", "A": "J", "B": "P"},
			12: {"title": "문제 12번", "type": "JP", "A": "J", "B": "P"}
		}
		var result = {
			"ISTJ": {"friend": "그냥그래", "explain": "istj 설명", "img": "/img/hbd_zeze.jpg"},
			"ESTJ": {"friend": "안맞아", "explain": "ESTJ 설명", "img": "/img/hbd_zeze.jpg"},
			"INTJ": {"friend": "그냥그래", "explain": "INTJ 설명", "img": "/img/hbd_zeze.jpg"}

		}
		function start() {
			$(".start").hide();
			$(".question").show();
			next();
		}
		$("#A").click(function(){
			var type = $("#type").val();
			var preValue = $("#"+type).val();
			$("#"+type).val(parseInt(preValue)+1);
			next();
		});
		$("#B").click(function(){
			//  B를 눌렀을 때는 점수 증가할 필요 없이 다음 페이지로 이동
			next();
		});
		function next() {
			// 12문제가 끝나면 문제화면은 숨기고 결과화면 나타나기
			if (num == 13) {
				$(".question").hide();
				$(".result").show();
				var mbti = "";
				($("#EI").val() < 2) ? mbti+="I" : mbti+="E";
				($("#SN").val() < 2) ? mbti+="N" : mbti+="S";
				($("#TF").val() < 2) ? mbti+="F" : mbti+="T";
				($("#JP").val() < 2) ? mbti+="P" : mbti+="J";
				alert(mbti);
				$("#img").attr("src", result[mbti]["img"]);
				$("#friend").html(result[mbti]["friend"]);
				$("explain").html(result[mbti]["explain"]);
			} else {
				$(".progress-bar").attr('style', 'width: calc(100/12*'+num+'%)'); // 1/12 칸씩 프로그레스 바가 채워짐
				$("#title").html(q[num]["title"]);
				$("#type").val(q[num]["type"]);
				$("#A").html(q[num]["A"]);
				$("#B").html(q[num]["B"]);
				num++;
			}
		}
	</script>
	<!-- Go to www.addthis.com/dashboard to customize your tools -->
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-6236e0234af5793f"></script>

</body>
</html>